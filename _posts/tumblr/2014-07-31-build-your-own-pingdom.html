---
layout: post
title: Build your own Pingdom to measure load time from any location
date: '2014-07-31T19:26:00+03:00'
tags:
- pingdom
- cloud computing
- monitoring
tumblr_url: https://blog.mist.io/post/93413334586/build-your-own-pingdom
---
<p><a href="https://www.pingdom.com/">Pingdom</a> is a popular and highly useful service that monitors your website and informs you if something goes wrong. But what if your users originate from different parts of the world? Depending on where your server is located, users from different parts of the world will get a very different experience. This is actually one of the <a href="https://pingdom.uservoice.com/forums/113203-my-pingdom/suggestions/2223355-ability-to-choose-which-probe-servers-to-use">most requested</a> Pingdom features.</p>
<p><img alt="image" class="right-image" src="https://66.media.tumblr.com/8553d9aa45824523f3666417ec8173cc/tumblr_inline_n9l3x21eqe1rgqrs8.png" width="180px"/></p>

<p>So, instead of relying on the location of a 3rd party service, why not use your own machines to check your website’s load time from different parts of the globe? The easiest way to do this is through Mist.io.</p>
<p>All you need to do is to add a <a href="http://blog.mist.io/post/90766645046/monitor-everything-from-anywhere-introducing-custom">custom metric</a> on one or more servers and set up alerts. Mist.io will let you know once your website’s load time exceeds your specified threshold. If you aren’t already a happy Mist.io user, you’ll need to set up an account with Mist.io and enable monitoring on the server(s) you want to check your website with. It’ll just take a <a href="http://blog.mist.io/post/77999688959/setting-up-monitoring-and-alerting-for-your-servers-in">couple of minutes</a>.</p>
<p>Now, assuming you’ve enabled monitoring on your server, just click on “Add Graph” and you’ll see a popup containing a nested list with all the metrics currently available to the monitoring agent. Select “custom” to add a check for your site. The following snippet of Python code will monitor the load time of <a href="https://mist.io">https://mist.io</a></p>
<pre><code>import urllib, time
def read():
  nf=urllib.urlopen('https://mist.io/')
  start=time.time()
  page=nf.read()
  end=time.time()
  nf.close()
  return end - start</code></pre>
<p><img alt="image" src="https://66.media.tumblr.com/6cf18180f687ec87637121d95cde4199/tumblr_inline_n9l40rk4M81rgqrs8.png"/></p>

<p>After a few minutes, our load graph will start getting populated with the results of our script.</p>
<p><img alt="image" src="https://66.media.tumblr.com/269d688b4f39d6693f28511d5bb1b6b8/tumblr_inline_n9l4a7sNBO1rgqrs8.png"/></p>

<p></p>
<p>It’s pretty awesome to be able to take a look and see how your website performed the past week. It’s even more important to get notified right away once things start getting out of the accepted norms. Time to create a new rule, which will alert us when our load time exceeds one second. Scroll down to the rules section and click on “Add Rule”. Change the metric on the new rule to the one you just created (Mist load time in our example) and set it up to alert you once it‘s over 1 second.</p>
<p><img alt="image" src="https://66.media.tumblr.com/0dee6bd29d8dd0d895b22768d96532a9/tumblr_inline_n9l4727u7O1rgqrs8.png"/></p>

<p>That’s it! We’ve set up our own, cheap monitoring solution for our website. The server we used is located at Rackspace’s ORD datacenter in Dallas, Texas which is handy if most of our visitors comes from the U.S. But if our audience is global, the load time from a U.S. server says little about the experience of users from other parts of the globe. All we have to do, is repeat the procedure on one of our servers in Europe or Asia and now we can monitor our website’s load time from all around the world. This is what our check from the Amazon EC2 data center in Ireland looks like:</p>
<p><img alt="image" src="https://66.media.tumblr.com/298b57cbed45419990847b628235a3af/tumblr_inline_n9l47suVSa1rgqrs8.png"/></p>

<p>We can see that for our European visitors our website is somewhat slower, but within acceptable limits. If the performance degrades we’ll know it right away in order to take action.</p>
<p><strong>Do you have machines across clouds and want to easily manage them? <a href="https://mist.io/">Sign up for Mist.io and try it for free!</a></strong></p>
